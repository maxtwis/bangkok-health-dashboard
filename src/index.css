@import 'tailwindcss/base';
@import 'tailwindcss/components';
@import 'tailwindcss/utilities';

/* Import flag-icons CSS */
@import 'flag-icons/css/flag-icons.min.css';

/* Import Noto Sans Thai Looped font from Google Fonts */
@import url('https://fonts.googleapis.com/css2?family=Noto+Sans+Thai+Looped:wght@100;200;300;400;500;600;700;800;900&display=swap');

/* Set Noto Sans Thai Looped as default font family */
@layer base {
  * {
    font-family: 'Noto Sans Thai Looped', sans-serif;
  }
  
  body {
    font-family: 'Noto Sans Thai Looped', sans-serif;
  }
  
  /* Ensure all text elements use Noto Sans Thai Looped */
  h1, h2, h3, h4, h5, h6,
  p, span, div, button, input, select, textarea,
  .leaflet-container {
    font-family: 'Noto Sans Thai Looped', sans-serif !important;
  }
}

/* Critical CSS for Leaflet maps */
.leaflet-container {
  height: 100% !important;
  width: 100% !important;
  font-family: 'Noto Sans Thai Looped', sans-serif !important;
}

.leaflet-tile {
  max-width: none !important;
  max-height: none !important;
}

/* Ensure map parent has fixed height */
.dashboard-map-section {
  height: 600px !important;
  min-height: 600px !important;
}

/* Ensure Noto Sans Thai Looped font applies to all Leaflet elements */
.leaflet-popup-content,
.leaflet-tooltip,
.leaflet-control,
.leaflet-bar a {
  font-family: 'Noto Sans Thai Looped', sans-serif !important;
}

/* Accessibility improvements for charts and SVG elements */
@layer base {
  /* Add screen reader only text for chart SVG elements */
  .recharts-wrapper svg:not([role]) {
    role: img;
  }
  
  /* Improve focus visibility */
  button:focus,
  select:focus,
  input:focus {
    outline: 2px solid #3b82f6;
    outline-offset: 2px;
  }
  
  /* Skip to main content link */
  .skip-to-main {
    position: absolute;
    top: -40px;
    left: 6px;
    background: #3b82f6;
    color: white;
    padding: 8px 16px;
    text-decoration: none;
    border-radius: 4px;
    z-index: 1000;
  }
  
  .skip-to-main:focus {
    top: 6px;
  }
  
  /* High contrast mode support */
  @media (prefers-contrast: high) {
    .bg-gray-50 {
      background-color: white;
    }
    
    .text-gray-600 {
      color: black;
    }
    
    .border-gray-200 {
      border-color: black;
    }
  }
  
  /* Reduce motion for users who prefer it */
  @media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
    }
  }
  
  /* Enhanced Mobile Responsiveness */
  @media (max-width: 768px) {
    .dashboard-grid {
      grid-template-columns: 1fr;
      gap: 1rem;
    }
    
    .filter-controls {
      grid-template-columns: 1fr;
      gap: 1rem;
    }
    
    /* Improve touch targets */
    button, select, input[type="checkbox"] {
      min-height: 44px;
      min-width: 44px;
    }
    
    /* Better table scrolling */
    .table-container {
      overflow-x: auto;
      -webkit-overflow-scrolling: touch;
    }
    
    .table-container table {
      min-width: 600px;
    }
  }
  
  /* Loading animations */
  @keyframes shimmer {
    0% {
      background-position: -468px 0;
    }
    100% {
      background-position: 468px 0;
    }
  }
  
  .shimmer {
    animation: shimmer 2s infinite linear;
    background: linear-gradient(to right, #eff6ff 4%, #dbeafe 25%, #eff6ff 36%);
    background-size: 1000px 100%;
  }
  
  /* Enhanced hover effects */
  .card-hover {
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  }
  
  .card-hover:hover {
    transform: translateY(-4px);
    box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
  }
  
  /* Glassmorphism effects */
  .glass {
    background: rgba(255, 255, 255, 0.8);
    backdrop-filter: blur(10px);
    border: 1px solid rgba(255, 255, 255, 0.2);
  }
  
  .glass-dark {
    background: rgba(0, 0, 0, 0.1);
    backdrop-filter: blur(10px);
    border: 1px solid rgba(255, 255, 255, 0.1);
  }
}